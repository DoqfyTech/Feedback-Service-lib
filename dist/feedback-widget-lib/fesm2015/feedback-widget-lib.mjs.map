{"version":3,"file":"feedback-widget-lib.mjs","sources":["../../../projects/feedback-widget-lib/src/lib/feedback-widget-lib.service.ts","../../../projects/feedback-widget-lib/src/lib/feedback-widget-lib.component.ts","../../../projects/feedback-widget-lib/src/lib/feedback-widget-lib.module.ts","../../../projects/feedback-widget-lib/src/public-api.ts","../../../projects/feedback-widget-lib/src/feedback-widget-lib.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({ providedIn: 'root' })\nexport class FeedbackWidgetLibService {\n  private isLoaded = false;\n  private config: any = {};\n  private rating = 0;\n  private imageBase64: any  = \"\";\n  private videoBase64: any  = \"\";\n\n  constructor() {}\n\n  load(config: any): void {\n    if (this.isLoaded) return;\n    this.config = config;\n\n    this.loadFont();\n    this.injectStyles();\n    this.createButton();\n\n    this.isLoaded = true;\n  }\n\n  unload(): void {\n    document.querySelector('.feedback-btn')?.remove();\n    document.querySelector('.feedback-modal')?.remove();\n    document.querySelector('.feedback-backdrop')?.remove();\n    this.isLoaded = false;\n    this.rating = 0;\n    this.imageBase64 = \"\";\n    this.videoBase64 = \"\";\n  }\n\n  private loadFont() {\n    if (!document.getElementById('poppins-font')) {\n      const link = document.createElement('link');\n      link.id = 'poppins-font';\n      link.rel = 'stylesheet';\n      link.href = 'https://fonts.googleapis.com/css2?family=Poppins&display=swap';\n      document.head.appendChild(link);\n    }\n  }\n\n  private injectStyles() {\n    const style = document.createElement('style');\n    style.innerText = `\n      .feedback-btn{\n              font-family: 'Poppins', sans-serif;\n              background-color: #7106ff;\n              color: white;\n              box-shadow: 5px 5px 8px 2px rgba(0,0,0,0.6);\n              position: fixed;\n              right: 16px;\n              bottom: 48px;\n              border: 0;\n              border-radius: 24px;\n              padding: 8px 16px;\n              display: flex;\n              align-items: center;\n              gap: 8px;\n              font-size: 14px;\n              font-weight: 600;       \n              z-index: 9997;\n          }\n          \n          .feedback-btn span{\n              display: none;\n          }\n          \n          .feedback-btn:hover span{\n              display: block;\n          }\n  \n          .feedback-modal {\n              opacity: 0;\n              visibility: hidden;\n              transition: opacity 0.3s ease, visibility 0.3s ease;\n              position: fixed;\n              top: 0;\n              left: 0;\n              width: 100vw;\n              height: 100vh;\n              background: rgba(0,0,0,0.4);\n              z-index: 9998;\n              display: flex;\n              justify-content: center;\n              align-items: center;\n              padding: 16px;\n              box-sizing: border-box;\n          }\n  \n          .feedback-modal.show {\n              opacity: 1;\n              visibility: visible;\n          }\n  \n          .feedback-content {\n              background: #fff;\n              width: 100%;\n              max-width: 575px;\n              border-radius: 12px;\n              font-family: 'Poppins', sans-serif;\n              box-shadow: 0 6px 20px rgba(0,0,0,0.25);\n              max-height: 90vh;\n              overflow-y: auto;\n              box-sizing: border-box;\n              transform: scale(0.9);\n              transition: transform 0.3s ease;\n          }\n  \n          .feedback-modal.show .feedback-content {\n              transform: scale(1);\n          }\n  \n          .feedback-backdrop {\n              position: fixed;\n              top: 0;\n              left: 0;\n              width: 100vw;\n              height: 100vh;\n              background: rgba(0,0,0,0.4);\n              opacity: 0;\n              visibility: hidden;\n              z-index: 9997;\n              transition: opacity 0.3s ease, visibility 0.3s ease;\n          }\n  \n          .feedback-backdrop.show {\n              visibility: visible;\n              opacity: 1;\n          }\n  \n          .feedback-modal-header div{\n              display: flex;\n              justify-content: space-between;\n              align-items: center;\n              padding: 16px;\n              border-bottom: 1px solid #AEB3B9;\n          }\n  \n          .feedback-modal-header div h1{\n              padding: 0;\n              margin: 0;\n              height: fit-content;\n              font-family: 'Poppins', sans-serif;\n              font-weight: 600;\n              font-size: 18px;\n              line-height: 100%;\n              color: #333232;\n          }\n          \n          .feedback-modal-header div button{\n              height: fit-content;\n              padding: 0;\n          }\n  \n          .close-btn {\n              background: none;\n              border: none;\n              font-size: 24px;\n              font-weight: 400;\n              color: #333;\n              cursor: pointer;\n              padding: 4px 8px;\n              line-height: 1;\n          }\n  \n          .close-btn:hover {\n              transform: scale(1.1);\n          }\n  \n          .feed-back-form{\n              display: flex;\n              flex-wrap: wrap;\n              padding: 16px;\n              gap: 16px;\n          }\n  \n          .col12{\n              flex: 0 0 auto;\n              width: 100%;\n              display: flex;;\n              flex-direction: column;\n              gap: 8px;\n            }\n  \n          .feedback-stars {\n            display: flex;\n            justify-content: space-between;\n            font-size: 28px;\n            cursor: pointer;\n          }\n  \n          .feedback-stars span {\n            display: inline-flex;\n            justify-content: center;\n            align-items: center;\n            width: 40px;\n            height: 40px;\n            font-size: 40px;\n            border-radius: 50%;\n            cursor: pointer;\n            transition: transform 0.2s ease, box-shadow 0.2s ease;\n          }\n  \n          .feedback-stars span.selected {\n            transform: scale(1.3);\n            box-shadow: 7px 5px 8px rgba(0, 0, 0, 0.25);\n          }\n  \n          .feedback-stars span:hover {\n            transform: scale(1.2);\n            box-shadow: 7px 5px 8px rgba(0, 0, 0, 0.25);\n          }\n  \n          .formLabel{\n              font-weight: 500;\n              font-family: 'Poppins', sans-serif;\n              font-size: 14px;\n              line-height: 100%;\n              color: #3d3d3d;\n          }\n          \n          .formControl{\n            border: 1px solid #CCD1D6;\n            padding: 10px 12px;\n            border-radius: 6px;\n            color: #6D6D6D;\n            font-family: 'Poppins', sans-serif;\n            font-size: 14px;\n            font-weight: 400;\n            transition: border-color 0.2s ease;\n          }\n  \n          .formControl:hover, \n          .formControl:focus, \n          .formControl:focus-visible {\n            border: 1px solid #3b82f6 !important;\n            outline: none;\n          }\n  \n          .colMd6 {\n              display: flex;\n              flex-direction: column;\n              gap: 8px;\n          }\n  \n          .fileInputs{\n            width: 100%;\n            display: flex;\n            gap: 16px;\n            flex-direction: column;\n          }\n  \n          @media (min-width: 768px) {\n            .colMd6 {\n              flex: 0 0 auto;\n              width: 50%;\n            }\n  \n            .fileInputs{ \n              display: flex;\n              flex-direction: row;\n              margin-right: 16px;\n            }\n            \n            .upload-progress{\n              width: 220.5px !important;\n            } \n          }\n  \n          .upload-box {\n            border: 2px dashed #CCD1D6;\n            padding: 16px;\n            border-radius: 8px;\n            text-align: center;\n            cursor: pointer;\n            font-family: 'Poppins', sans-serif;\n            color: #4b5563;\n            font-size: 14px;\n            position: relative;\n            transition: border-color 0.2s ease;\n          }\n  \n          .upload-box:hover {\n            border-color: #3b82f6;\n            background-color: #f9fafb;\n          }\n  \n          .upload-box i {\n            font-size: 24px;\n            margin-bottom: 8px;\n            display: block;\n            font-style: normal;\n          }\n            \n          .upload-box input[type=\"file\"] {\n            display: none;\n          }\n  \n          .upload-progress {\n            display: none;\n            flex-direction: column;\n            gap: 4px;\n            align-items: flex-start;\n            margin-top: 8px;\n            font-family: 'Poppins', sans-serif;\n            width: 100%;\n          }\n  \n          .upload-progress .filename {\n            font-size: 12px;\n            font-weight: 500;\n            color: #374151;\n            width: 100%;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n          }\n  \n          .size-and-remove-cntnr{\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            width: 100%;\n          }\n  \n          .upload-progress .size {\n            font-size: 12px;\n            color: #6B7280;\n          }\n  \n          .upload-progress .progress-bar {\n            width: 100%;\n            background-color: #e5e7eb;\n            height: 6px;\n            border-radius: 4px;\n            overflow: hidden;\n          }\n  \n          .upload-progress .progress-fill {\n            height: 100%;\n            width: 0%;\n            background-color: #3b82f6;\n            transition: width 0.2s ease;\n          }\n  \n          .upload-progress .remove-btn {\n            margin-top: 6px;\n            font-size: 12px;\n            color: #ef4444;\n            background: none;\n            border: none;\n            cursor: pointer;\n            padding: 0;\n            font-weight: 500;\n          }\n          \n          .feedback-modal-footer{\n            padding: 16px;\n            border-top: 1px solid #AEB3B9;\n          }\n  \n          .feedback-modal-footer div{\n            display: flex;\n            justify-content: flex-end;\n            gap: 16px;\n          }\n  \n          .feedback-modal-footer div #fb-cancel{\n            padding: 8px 10px;\n            border: none;\n            background-color: transparent;\n            color: #454545;\n            font-family: Poppins;\n            font-weight: 500;\n            font-size: 12px;\n            line-height: 100%;\n            cursor: pointer;\n          }\n  \n          .feedback-modal-footer div #fb-submit{\n            padding: 9px 14px;\n            background-color: #7106FF;\n            border: none;\n            border-radius: 6px;\n            font-family: \"Poppins\";\n            font-weight: 500;\n            font-size: 14px;\n            line-height: 100%;\n            color: #fff;\n          }\n    `;\n    document.head.appendChild(style);\n  }\n\n  private createButton() {\n    const btn = document.createElement('button');\n    btn.className = 'feedback-btn';\n    btn.innerHTML = `\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\"\n        class=\"bi bi-chat-fill\" viewBox=\"0 0 16 16\">\n        <path d=\"M8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7\n        c0 1.76.743 3.37 1.97 4.6-.097 1.016-.417 2.13-.771 \n        2.966-.079.186.074.394.273.362 2.256-.37 3.597-.938 \n        4.18-1.234A9 9 0 0 0 8 15\"/>\n      </svg> <span>Feedback</span>\n    `;\n    btn.onclick = () => this.showModal();\n    document.body.appendChild(btn);\n  }\n\n  private showModal() {\n    const backdrop = document.createElement('div');\n    backdrop.className = 'feedback-backdrop';\n    document.body.appendChild(backdrop);\n\n    const modal = document.createElement('aside');\n    modal.className = 'feedback-modal';\n\n    const content = document.createElement('div');\n    content.className = 'feedback-content';\n\n    content.appendChild(this.createHeader(modal, backdrop));\n    content.appendChild(this.createBody());\n    content.appendChild(this.createFooter(modal, backdrop));\n\n    modal.appendChild(content);\n    document.body.appendChild(modal);\n\n    setTimeout(() => {\n      modal.classList.add('show');\n      backdrop.classList.add('show');\n    }, 10);\n  }\n\n  private createHeader(modal: HTMLElement, backdrop: HTMLElement): HTMLElement {\n    const header = document.createElement('header');\n    header.className = 'feedback-modal-header';\n    header.innerHTML = `\n      <div>\n        <h1>Feedback</h1>\n        <button class=\"close-btn\" id=\"closeBtn\">&times;</button>\n      </div>`;\n    header.querySelector('#closeBtn')?.addEventListener('click', () => this.closeModal(modal, backdrop));\n    return header;\n  }\n\n  private createBody(): HTMLElement {\n    const body = document.createElement('main');\n    body.className = 'feedback-modal-body';\n\n    body.innerHTML = `\n      <form class=\"feed-back-form\">\n        <div class=\"col12\">\n          <label for=\"stars\" class=\"formLabel\">How do you feel?</label>\n          <div class=\"feedback-stars\" id=\"stars\">\n            ${['üò†', 'üòû', 'üòê', 'üôÇ', 'üòÑ']\n              .map((emoji, i) => `<span data-value=\"${i + 1}\" title=\"${emoji}\">${emoji}</span>`)\n              .join('')}\n          </div>\n        </div>\n        <div class=\"col12\">\n          <label class=\"formLabel\">Comments:</label>\n          <textarea id=\"fb-comments\" class=\"formControl\" rows=\"3\" maxlength=\"1000\"></textarea>\n        </div>\n        <div class=\"col12\">\n          <label class=\"formLabel\">What could be improved?</label>\n          <textarea id=\"fb-improvement\" class=\"formControl\" rows=\"3\" maxlength=\"1000\"></textarea>\n        </div>\n        <div class=\"fileInputs\">\n          <div class=\"colMd6\">\n            <label class=\"formLabel\">Attach an image:</label>\n            <label class=\"upload-box\">\n              <i>üñºÔ∏è</i>\n              <span class=\"upload-text\">Click here to upload image</span>\n              <input type=\"file\" id=\"fb-image\" accept=\"image/*\">\n            </label>\n          </div>\n          <div class=\"colMd6\">\n            <label class=\"formLabel\">Attach a video:</label>\n            <label class=\"upload-box\">\n              <i>üé•</i>\n              <span class=\"upload-text\">Click here to upload video</span>\n              <input type=\"file\" id=\"fb-video\" accept=\"video/*\">\n            </label>\n          </div>\n        </div>\n      </form>`;\n\n    // Rating\n    body.querySelectorAll('.feedback-stars span')?.forEach(span => {\n      span.addEventListener('click', () => {\n        this.rating = Number(span.getAttribute('data-value'));\n        body.querySelectorAll('.feedback-stars span').forEach(s => s.classList.remove('selected'));\n        span.classList.add('selected');\n      });\n    });\n\n    this.setupFileInput(body.querySelector('#fb-image') as HTMLInputElement, 'image');\n    this.setupFileInput(body.querySelector('#fb-video') as HTMLInputElement, 'video');\n\n    return body;\n  }\n\n   setupFileInput = (input:any, type:any) => {\n    const uploadBox = input.closest(\".upload-box\");\n    const icon = uploadBox.querySelector(\"i\");\n    const text = uploadBox.querySelector(\".upload-text\");\n  \n    // Progress UI elements\n    const progressDiv = document.createElement(\"div\");\n    progressDiv.className = \"upload-progress\";\n    progressDiv.style.display = \"none\";\n  \n    const fileName = document.createElement(\"div\");\n    fileName.className = \"filename\";\n  \n    const fileSize = document.createElement(\"div\");\n    fileSize.className = \"size\";\n  \n    const bar = document.createElement(\"div\");\n    bar.className = \"progress-bar\";\n  \n    const fill = document.createElement(\"div\");\n    fill.className = \"progress-fill\";\n  \n    const removeBtn = document.createElement(\"button\");\n    removeBtn.className = \"remove-btn\";\n    removeBtn.textContent = \"Remove\";\n  \n    const sizeRemoveCntnr = document.createElement(\"div\");\n    sizeRemoveCntnr.className = \"size-and-remove-cntnr\";\n    sizeRemoveCntnr.appendChild(fileSize);\n    sizeRemoveCntnr.appendChild(removeBtn);\n  \n    bar.appendChild(fill);\n    progressDiv.appendChild(fileName);\n    progressDiv.appendChild(sizeRemoveCntnr);\n    progressDiv.appendChild(bar);\n    uploadBox.appendChild(progressDiv);\n  \n    input.addEventListener(\"change\", () => {\n      const file = input.files?.[0];\n      if (!file) return;\n  \n      // Show progress UI\n      icon.style.display = \"none\";\n      text.style.display = \"none\";\n      progressDiv.style.display = \"flex\";\n  \n      // Update filename and size\n      fileName.textContent = file.name;\n      fileSize.textContent = `${(file.size / 1024).toFixed(1)} KB`;\n  \n      // Read file\n      const reader = new FileReader();\n      reader.onloadstart = () => {\n        fill.style.width = \"0%\";\n      };\n      reader.onprogress = (e) => {\n        if (e.lengthComputable) {\n          const percent = (e.loaded / e.total) * 100;\n          fill.style.width = `${percent.toFixed(0)}%`;\n        }\n      };\n      reader.onloadend = () => {\n        fill.style.width = \"100%\";\n        const base64 = reader.result;\n        if (type === \"image\") this.imageBase64 = base64;\n        else this.videoBase64 = base64;\n      };\n      reader.readAsDataURL(file);\n    });\n  \n    removeBtn.addEventListener(\"click\", (e) => {\n      e.preventDefault();\n      input.value = \"\";\n      icon.style.display = \"\";\n      text.style.display = \"\";\n      progressDiv.style.display = \"none\";\n      fill.style.width = \"0%\";\n      fileName.textContent = \"\";\n      fileSize.textContent = \"\";\n      if (type === \"image\") this.imageBase64 = \"\";\n      else this.videoBase64 = \"\";\n    });\n  };\n  \n\n  private createFooter(modal: HTMLElement, backdrop: HTMLElement): HTMLElement {\n    const footer = document.createElement('footer');\n    footer.className = 'feedback-modal-footer';\n    footer.innerHTML = `\n      <div>\n        <button id=\"fb-cancel\">Cancel</button>\n        <button id=\"fb-submit\">Submit</button>\n      </div>\n    `;\n\n    footer.querySelector('#fb-cancel')?.addEventListener('click', () => this.closeModal(modal, backdrop));\n    footer.querySelector('#fb-submit')?.addEventListener('click', () => this.submit(modal, backdrop));\n\n    return footer;\n  }\n\n  private closeModal(modal: HTMLElement, backdrop: HTMLElement): void {\n    modal.classList.remove('show');\n    backdrop.classList.remove('show');\n    setTimeout(() => {\n      modal.remove();\n      backdrop.remove();\n    }, 300);\n  }\n\n  private submit(modal: HTMLElement, backdrop: HTMLElement): void {\n    const comment = (document.getElementById('fb-comments') as HTMLTextAreaElement).value.trim();\n    const improvement = (document.getElementById('fb-improvement') as HTMLTextAreaElement).value.trim();\n\n    if (!this.rating) {\n      alert('Please select a rating.');\n      return;\n    }\n\n    if (!comment) {\n      alert('Please enter a comment.');\n      return;\n    }\n\n    const payload = {\n      username: this.config?.user,\n      rating: this.rating,\n      comment,\n      improvement,\n      image: this.imageBase64,\n      video: this.videoBase64\n    };\n\n    fetch('https://192.168.1.19:2000/feedback/feedback/', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(payload)\n    })\n      .then(res => {\n        if (!res.ok) throw new Error('Server error');\n        return res.json();\n      })\n      .then(() => {\n        alert('‚úÖ Feedback submitted!');\n        this.closeModal(modal, backdrop);\n      })\n      .catch(err => {\n        console.error('‚ùå Error submitting feedback:', err);\n        alert('‚ùå Error submitting feedback.');\n      });\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'lib-feedback-widget-lib',\n  template: `\n    <p>\n      feedback-widget-lib works!\n    </p>\n  `,\n  styles: [\n  ]\n})\nexport class FeedbackWidgetLibComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { FeedbackWidgetLibComponent } from './feedback-widget-lib.component';\n\n\n\n@NgModule({\n  declarations: [\n    FeedbackWidgetLibComponent\n  ],\n  imports: [\n  ],\n  exports: [\n    FeedbackWidgetLibComponent\n  ]\n})\nexport class FeedbackWidgetLibModule { }\n","/*\n * Public API Surface of feedback-widget-lib\n */\n\nexport * from './lib/feedback-widget-lib.service';\nexport * from './lib/feedback-widget-lib.component';\nexport * from './lib/feedback-widget-lib.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}